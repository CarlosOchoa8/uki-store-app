{% extends 'base.html' %}

{% block content %}
{# TODO Esto soluciona heredar lo que existe en account_base, solo lo de base lo hereda#}
{{ super() }}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/users/my_account.css') }}">

<section class="profile-section">
    <div class="profile-container">
        <div class="profile-header">
            <div class="profile-picture">
                <img src="{{ url_for('static', filename='css/base/base_imgs/about_us.png') }}" alt="Foto de perfil">
            </div>
            <h2>{{ g.user.first_name }} {{ g.user.last_name }}</h2>
        </div>
        <div class="profile-body">
            <div class="tabs">
                <button class="tab-button active" data-tab="profile-info">Mi Cuenta</button>
                <button class="tab-button" data-tab="orders">Mis Pedidos</button>
                <button class="tab-button" data-tab="addresses">Mis Direcciones</button>
                <button class="tab-button" data-tab="wallet">Mi Billetera</button>
                <button class="tab-button" data-tab="subscriptions">Mis Suscripciones</button>
            </div>
            <div class="tab-content">
                <div class="tab-pane active" id="profile-info">
                    <form>
                        <div class="form-group">
                            <label for="first_name">Nombre:</label>
                            <input type="text" id="first_name" name="first_name" value="{{ g.user.first_name }}">
                        </div>
                        <div class="form-group">
                            <label for="last_name">Apellido:</label>
                            <input type="text" id="last_name" name="last_name" value="{{ g.user.last_name }}">
                        </div>
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" value="{{ g.user.email }}">
                        </div>
                        <div class="form-group">
                            <label for="phone">Teléfono:</label>
                            <input type="tel" id="phone" name="phone" value="{{ g.user.phone }}">
                        </div>
                        <button type="submit">Guardar Cambios</button>
                    </form>
                </div>
                <div class="tab-pane" id="orders">
                    <p>Aquí estarán tus pedidos.</p>
                </div>
                <div class="tab-pane" id="addresses">
                    <p>Aquí estarán tus direcciones.</p>
                </div>
                <div class="tab-pane" id="wallet">
                    <p>Aquí estará tu billetera.</p>
                </div>
                <div class="tab-pane" id="subscriptions">
                    <p>Aquí estarán tus suscripciones.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabPanes = document.querySelectorAll('.tab-pane');

        tabButtons.forEach(button => {
            button.addEventListener('click', function () {
                const target = this.getAttribute('data-tab');

                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabPanes.forEach(pane => pane.classList.remove('active'));

                this.classList.add('active');
                document.getElementById(target).classList.add('active');
            });
        });
    });
</script>


{% endblock %}
