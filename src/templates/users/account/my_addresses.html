{% extends 'users/account/account_base.html' %}
{% block content %}
{{ super() }}
{% endblock %}

{% block address %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/users/my_addresses.css') }}">

<button id="openModalBtn" class="btn btn-primary">Agregar Dirección</button>

<!-- Modal Structure -->
<div id="modalBackground" class="modal-background"></div>
<div id="addAddressModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Agregar Nueva Dirección</h2>
        <form action="#" method="POST">
            {{ address_form.hidden_tag() }}
            <div class="form-group">
                {{ address_form.first_name.label(class="form-label") }}
                {{ address_form.first_name(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.last_name.label(class="form-label") }}
                {{ address_form.last_name(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.company_name.label(class="form-label") }}
                {{ address_form.company_name(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.address.label(class="form-label") }}
                {{ address_form.address(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.address_detail.label(class="form-label") }}
                {{ address_form.address_detail(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.city.label(class="form-label") }}
                {{ address_form.city(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.country.label(class="form-label") }}
                {{ address_form.country(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.country_region.label(class="form-label") }}
                {{ address_form.country_region(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.postal_code.label(class="form-label") }}
                {{ address_form.postal_code(class="form-control") }}
            </div>
            <div class="form-group">
                {{ address_form.phone_number.label(class="form-label") }}
                {{ address_form.phone_number(class="form-control") }}
            </div>
            <button type="submit" class="btn btn-primary">Guardar Dirección</button>
        </form>
    </div>
</div>


<script>
    // Obtén el modal
    var modal = document.getElementById("addAddressModal");

    // Obtén el botón que abre el modal
    var btn = document.getElementById("openModalBtn");

    // Obtén el elemento <span> que cierra el modal
    var span = document.getElementsByClassName("close")[0];

    // Cuando el usuario hace clic en el botón, abre el modal
    btn.onclick = function () {
        modal.style.display = "block";
    }

    // Cuando el usuario hace clic en <span> (x), cierra el modal
    span.onclick = function () {
        modal.style.display = "none";
    }

    // Cuando el usuario hace clic fuera del modal, ciérralo
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

{% endblock %}